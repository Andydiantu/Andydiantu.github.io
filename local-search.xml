<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>[leetcode总结] 题目 476 与 Int 边际值</title>
    <link href="/2021/12/30/Complement/"/>
    <url>/2021/12/30/Complement/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>今天的题目是Leetcode编号为476的题目，虽然是一道简单题但是里面涉及的关于Int型极值的问题让我想把他记录下来。</p><h1 id="题目"><a class="markdownIt-Anchor" href="#题目"></a> <a href="https://leetcode.com/problems/number-complement/">题目</a></h1><p>The <strong>complement</strong> of an integer is the integer you get when you flip all the 0’s to 1’s and all the 1’s to 0’s in its binary representation.</p><p>For example, The integer 5 is “101” in binary and its complement is “010” which is the integer 2.</p><p>Given an integer num, return it’s <em>complement</em>.</p><p><strong>Example 1:</strong></p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">Input:</span> num = <span class="hljs-number">5</span><br><span class="hljs-symbol">Output:</span> <span class="hljs-number">2</span><br><span class="hljs-symbol">Explaination:</span> The <span class="hljs-keyword">binary</span> representation <span class="hljs-keyword">of</span> <span class="hljs-number">5</span> <span class="hljs-built_in">is</span> <span class="hljs-number">101</span> (no leading zero bits), <span class="hljs-built_in">and</span> its complement <span class="hljs-built_in">is</span> <span class="hljs-number">010</span>. So you need <span class="hljs-keyword">to</span> output <span class="hljs-number">2</span>.<br></code></pre></td></tr></table></figure><p><strong>Example 2:</strong></p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">Input:</span> num = <span class="hljs-number">1</span><br><span class="hljs-symbol">Output:</span> <span class="hljs-number">0</span><br><span class="hljs-symbol">Explaination:</span> The <span class="hljs-keyword">binary</span> representation <span class="hljs-keyword">of</span> <span class="hljs-number">1</span> <span class="hljs-built_in">is</span> <span class="hljs-number">1</span> (no leading zero bits), <span class="hljs-built_in">and</span> its complement <span class="hljs-built_in">is</span> <span class="hljs-number">0</span>. So you need <span class="hljs-keyword">to</span> output <span class="hljs-number">0</span>.<br></code></pre></td></tr></table></figure><h3 id="constaints"><a class="markdownIt-Anchor" href="#constaints"></a> Constaints:</h3><p>1 &lt;= num &lt; <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup></mrow><annotation encoding="application/x-tex">2^{31}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><h1 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h1><p>每个数的complement的本质就是与这个数的二进制有着相同长度，而且每一位都是1的数与这个数的二进制的差。</p><p><strong>举例</strong></p><p>num = 5</p><p>二进制表达方式 num_in_binary = 101</p><p>与原数字有着相同长度，而且每一位都是1的二进制数 mask = 111</p><p>两个数之差：111-101 = 010 =&gt; 2 (从二进制转换到十进制)</p><p>所以 5 的complement就是 2。</p><h1 id="代码实现"><a class="markdownIt-Anchor" href="#代码实现"></a> 代码实现</h1><p>按照这个思路，首先我们要知道num二进制表达中有多少位。 然后根据位数来获得mask，最后做差。</p><p>获得十进制表达的数字的二进制表达的位数，我们可以通过以2为底的log操作来获得。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span> num_digit_binary = (<span class="hljs-keyword">int</span>) (Math.log(num) / Math.log(<span class="hljs-number">2</span>));<br></code></pre></td></tr></table></figure><p>获得对应的mask，我们可以通过2的位数加一次再减一来获得。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span> mask = (<span class="hljs-keyword">int</span>) (Math.pow(<span class="hljs-number">2</span>,num_digit_binary + <span class="hljs-number">1</span>) - <span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><p>最后我们求两数之差就是complement了。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span> complement = mask - num;<br></code></pre></td></tr></table></figure><p>上述解法大部分情况可以都可以得到正确答案。不过在num_digit_binary为31位的时候, $ 2^{31}$ 存入Int会早成overflow，因为的int型的MAX_VALUE是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{31} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，存入$ 2^{31}$的结果会是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{31} - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，这时候我们再减一就会让最后mask变为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2^{31} - 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>。 我们可以通过先减一再cast成int来避免这个情况。</p>]]></content>
    
    
    
    <tags>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>test_post</title>
    <link href="/2021/12/29/test-post/"/>
    <url>/2021/12/29/test-post/</url>
    
    <content type="html"><![CDATA[<h3 id="this-is-good"><a class="markdownIt-Anchor" href="#this-is-good"></a> This is good</h3><p>Let’s show what we got for this one</p>]]></content>
    
    
    
    <tags>
      
      <tag>Testing</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/12/29/hello-world/"/>
    <url>/2021/12/29/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
